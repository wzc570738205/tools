<!--
 * @Author: wangzhichiao<https://github.com/wzc570738205>
 * @Date: 2020-12-04 12:43:07
 * @LastEditors: wangzhichiao<https://github.com/wzc570738205>
 * @LastEditTime: 2020-12-04 14:25:14
-->
## 插件介绍
Spring 3.1 引入了激动人心的基于注释（annotation）的缓存（cache）技术，它本质上不是一个具体的缓存实现方案（例如 EHCache 或者 OSCache），而是一个对缓存使用的抽象，通过在既有代码中添加少量它定义的各种 annotation，即能够达到缓存方法的返回对象的效果。

Spring 的缓存技术还具备相当的灵活性，不仅能够使用 SpEL（Spring Expression Language）来定义缓存的 key 和各种 condition，还提供开箱即用的缓存临时存储方案，也支持和主流的专业缓存例如 EHCache 集成。

其特点总结如下：

通过少量的配置 annotation 注释即可使得既有代码支持缓存
支持开箱即用 Out-Of-The-Box，即不用安装和部署额外第三方组件即可使用缓存
支持 Spring Express Language，能使用对象的任何属性或者方法来定义缓存的 key 和 condition
支持 AspectJ，并通过其实现任何方法的缓存支持
支持自定义 key 和自定义缓存管理者，具有相当的灵活性和扩展性

## 使用说明
当前支持两种实现的内存缓存，一种是通过caffeine（推荐使用）实现，另外一种是通过redis实现。

## 配置步骤
1. 添加pom依赖
````
    <dependency>
        <groupId>com.ichinae.core.plugins</groupId>
        <artifactId>ichinae-core-plugins-cache</artifactId>
        <version>1.0.0</version>
    </dependency>
````        
2. 在启动类引入：
````
@Import({CacheConfiguration.class})
````
3. 在配置文件中，加入配置
````
    spring:
        cache:
        # cache的名称，必须配置。可以配置多个名称，如果是多个的话，使用英文逗号隔开不加空格。
        - name: test 
        type: caffeine
        # cache的最大容量，如果不配的话，使用默认：10000
        maximumSize: 10000
        # cache的初始化容量，如果不配的话，使用默认：5000
        initialCapacity: 5000
        # cache的过期时间，如果不配的话，使用默认：300 单位为秒
        expireAfterAccess: 300
        - name: test 
        type: redis
        # cache的最大容量，如果不配的话，使用默认：10000
        maximumSize: 10000
        # cache的初始化容量，如果不配的话，使用默认：5000
        initialCapacity: 5000
        # cache的过期时间，如果不配的话，使用默认：300 单位为秒
        expireAfterAccess: 300
````
如果使用redis的话，需要增加redis的连接配置
````            
    spring:
            redis:
            host: localhost
            port: 6379
````
## 使用介绍
1. 通过添加@Cacheable()实现功能<br>注解中要设置 value,key,condition
        如果想要使用redis的话，需要在@Cacheable()中额外添加 cacheManager = CacheConst.REDIS_CACHE_MANAGER
        如果要是在配置文件中没有指定name的话，需要设置value = CacheConst.DEFAULT_CACHE_NAME
2. @CachePut,@CacheEvict 都可以按照常规的使用规则进行使用

