(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{397:function(t,e,i){"use strict";i.r(e);var a=i(45),r=Object(a.a)({},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[i("p",[i("img",{attrs:{src:"https://gitee.com/Wzhichao/img/raw/master/uPic/6EZtuT00%20.png",alt:""}})]),t._v(" "),i("h2",{attrs:{id:"jenkins介绍"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#jenkins介绍"}},[t._v("#")]),t._v(" "),i("a",{attrs:{href:"https://jenkins.io/zh/",target:"_blank",rel:"noopener noreferrer"}},[t._v("jenkins介绍"),i("OutboundLink")],1)]),t._v(" "),i("p",[t._v("构建伟大，无所不能")]),t._v(" "),i("p",[t._v("Jenkins是开源CI&CD软件领导者， 提供超过1000个插件来支持构建、部署、自动化， 满足任何项目的需要。")]),t._v(" "),i("ul",[i("li",[t._v("作为一个可扩展的自动化服务器，Jenkins 可以用作简单的 CI 服务器，或者变成任何项目的持续交付中心。")]),t._v(" "),i("li",[t._v("Jenkins 是一个基于 Java 的独立程序，可以立即运行，包含 Windows、Mac OS X 和其他类 Unix 操作系统。")]),t._v(" "),i("li",[t._v("Jenkins 可以通过其网页界面轻松设置和配置，其中包括即时错误检查和内置帮助。")]),t._v(" "),i("li",[t._v("通过更新中心中的 1000 多个插件，Jenkins 集成了持续集成和持续交付工具链中几乎所有的工具。")]),t._v(" "),i("li",[t._v("Jenkins 可以通过其插件架构进行扩展，从而为 Jenkins 可以做的事提供几乎无限的可能性。")]),t._v(" "),i("li",[t._v("Jenkins 可以轻松地在多台机器上分配工作，帮助更快速地跨多个平台推动构建、测试和部署。")])]),t._v(" "),i("h2",{attrs:{id:"安装jenkins"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#安装jenkins"}},[t._v("#")]),t._v(" 安装jenkins")]),t._v(" "),i("p",[t._v("jenkins的安装请移步"),i("a",{attrs:{href:"https://www.cnblogs.com/wangzhichao/p/12692185.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("在linux服务器上安装Jenkins"),i("OutboundLink")],1)]),t._v(" "),i("h2",{attrs:{id:"新建github项目"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#新建github项目"}},[t._v("#")]),t._v(" 新建github项目")]),t._v(" "),i("p",[t._v("我们新建一个名为jenkins的git仓库，代码我这里选择了用"),i("a",{attrs:{href:"https://cli.vuejs.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue-cli"),i("OutboundLink")],1),t._v("简易生成了一个示例demo\n"),i("img",{attrs:{src:"https://gitee.com/Wzhichao/img/raw/master/uPic/ByAMEO42%20.png",alt:""}})]),t._v(" "),i("h2",{attrs:{id:"github配置"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#github配置"}},[t._v("#")]),t._v(" github配置")]),t._v(" "),i("h3",{attrs:{id:"sercret-text"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#sercret-text"}},[t._v("#")]),t._v(" sercret text")]),t._v(" "),i("p",[t._v("注：此处需要一个对项目有写权限的账户")]),t._v(" "),i("blockquote",[i("p",[t._v("进入github --\x3e setting --\x3e Personal Access Token --\x3e Generate new token\n"),i("a",{attrs:{href:"https://github.com/settings/tokens/new",target:"_blank",rel:"noopener noreferrer"}},[t._v("或者点击进入"),i("OutboundLink")],1)])]),t._v(" "),i("p",[i("img",{attrs:{src:"https://gitee.com/Wzhichao/img/raw/master/uPic/IYOV3G06%20.png",alt:"img"}})]),t._v(" "),i("p",[i("img",{attrs:{src:"https://gitee.com/Wzhichao/img/raw/master/uPic/xUqndM35%20.png",alt:"img"}})]),t._v(" "),i("p",[t._v("自己先保存此"),i("code",[t._v("token")]),t._v("，如果丢失，之后再也无法找到这个"),i("code",[t._v("token")]),t._v("。")]),t._v(" "),i("h3",{attrs:{id:"github-webhooks-设置"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#github-webhooks-设置"}},[t._v("#")]),t._v(" GitHub webhooks 设置")]),t._v(" "),i("blockquote",[i("p",[t._v("进入刚才新建的jenkins仓库 --\x3e setting --\x3e WebHooks&Services --\x3e add webhook --\x3e 输入刚刚部署jenkins的服务器的IP")])]),t._v(" "),i("p",[t._v("jenkins地址后加上"),i("code",[t._v("/github-webhook/")])]),t._v(" "),i("p",[i("img",{attrs:{src:"https://gitee.com/Wzhichao/img/raw/master/uPic/QqqJoy08%20.png",alt:"img"}})]),t._v(" "),i("h2",{attrs:{id:"jenkins的github配置"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#jenkins的github配置"}},[t._v("#")]),t._v(" jenkins的github配置")]),t._v(" "),i("h3",{attrs:{id:"安装github-plugin"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#安装github-plugin"}},[t._v("#")]),t._v(" 安装GitHub Plugin")]),t._v(" "),i("blockquote",[i("p",[t._v("系统管理--\x3e插件管理--\x3e可选插件")])]),t._v(" "),i("p",[t._v("直接安装Github Plugin, jenkins会自动帮你解决其他插件的依赖，直接安装该插件Jenkins会自动帮你安装plain-credentials 、"),i("a",{attrs:{href:"http://lib.csdn.net/base/git",target:"_blank",rel:"noopener noreferrer"}},[t._v("Git"),i("OutboundLink")],1),t._v(" 、 credentials 、 github-api")]),t._v(" "),i("p",[i("img",{attrs:{src:"https://gitee.com/Wzhichao/img/raw/master/uPic/436630-ff8c8744ed7ade0d15%20.png",alt:"img"}})]),t._v(" "),i("h3",{attrs:{id:"配置github-plugin"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#配置github-plugin"}},[t._v("#")]),t._v(" 配置GitHub Plugin")]),t._v(" "),i("blockquote",[i("p",[t._v("系统管理 --\x3e 系统设置 --\x3e GitHub --\x3e Add GitHub Sever")])]),t._v(" "),i("p",[t._v("如下图所示")]),t._v(" "),i("p",[i("img",{attrs:{src:"https://gitee.com/Wzhichao/img/raw/master/uPic/rzzEY431%20.png",alt:"img"}})]),t._v(" "),i("p",[t._v("API URL 输入 "),i("code",[t._v("https://api.github.com")]),t._v("，Credentials点击Add添加，Kind选择Secret Text,具体如下图所示。")]),t._v(" "),i("p",[i("img",{attrs:{src:"https://gitee.com/Wzhichao/img/raw/master/uPic/5srXs406%20.png",alt:"img"}})]),t._v(" "),i("p",[t._v("Secret添加刚才生成的token，id和描述随便填写")]),t._v(" "),i("p",[t._v("设置完成后，点击"),i("code",[t._v("TestConnection")]),t._v(",提示"),i("code",[t._v("Credentials verified for user UUserName, rate limit: xxx")]),t._v(",则表明有效。\n"),i("img",{attrs:{src:"https://gitee.com/Wzhichao/img/raw/master/uPic/diNJuO28%20.png",alt:""}})]),t._v(" "),i("h3",{attrs:{id:"创建一个freestyle任务"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#创建一个freestyle任务"}},[t._v("#")]),t._v(" 创建一个freestyle任务")]),t._v(" "),i("p",[i("img",{attrs:{src:"https://gitee.com/Wzhichao/img/raw/master/uPic/uMDxQj41%20.png",alt:""}}),t._v("\n- General 设置\n填写GitHub project URL, 也就是你的项目主页\neg. "),i("code",[t._v("https://github.com/your_name/your_repo_name")])]),t._v(" "),i("p",[i("img",{attrs:{src:"https://gitee.com/Wzhichao/img/raw/master/uPic/amghlB38%20.png",alt:"img"}})]),t._v(" "),i("p",[t._v("- 配置源码管理")]),t._v(" "),i("p",[i("img",{attrs:{src:"https://gitee.com/Wzhichao/img/raw/master/uPic/ycegOY59%20.png",alt:"img"}})]),t._v(" "),i("ol",[i("li",[t._v("填写项目的git地址, eg. "),i("code",[t._v("https://github.com/your_name/your_repo_name.git")])]),t._v(" "),i("li",[t._v("添加github用户和密码")]),t._v(" "),i("li",[t._v("选择githubweb源码库浏览器，并填上你的项目URL，这样每次构建都会生成对应的changes，可直接链到github上看变更详情")])]),t._v(" "),i("p",[t._v("- 构建触发器，构建环境")]),t._v(" "),i("p",[i("img",{attrs:{src:"https://gitee.com/Wzhichao/img/raw/master/uPic/OaN2fB22%20.png",alt:"img"}})]),t._v(" "),i("p",[i("img",{attrs:{src:"https://gitee.com/Wzhichao/img/raw/master/uPic/FYgxXC09%20.png",alt:"img"}})]),t._v(" "),i("blockquote",[i("p",[t._v("这里如果没有node，就需要安装下node\n因为Jenkins容器中只有java环境支持运行jenkins，没有node环境，但是jenkins提供在线安装nodejs。"),i("a",{attrs:{href:"https://plugins.jenkins.io/nodejs",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方文档"),i("OutboundLink")],1)])]),t._v(" "),i("ul",[i("li",[t._v("下载nodejs插件并配置")]),t._v(" "),i("li",[t._v("系统管理---\x3e管理插件---\x3e下载NodeJS插件")]),t._v(" "),i("li",[t._v("下载的插件在：$JENKINS_HOME/plugins目录下")]),t._v(" "),i("li",[t._v("系统管理---\x3eGlobal Tool Configuration---\x3e选择需要安装的nodejs版本")]),t._v(" "),i("li",[t._v("会从nodejs官网下载安装，nodejs安装包在：$JENKINS_HOME/tools目录下")])]),t._v(" "),i("p",[i("img",{attrs:{src:"https://gitee.com/Wzhichao/img/raw/master/uPic/3611157-f781ebbe880aa77203%20.png",alt:""}})]),t._v(" "),i("p",[t._v("- 构建")]),t._v(" "),i("p",[i("img",{attrs:{src:"https://gitee.com/Wzhichao/img/raw/master/uPic/0kqlIQ16%20.png",alt:""}})]),t._v(" "),i("p",[t._v("- 构建后操作")]),t._v(" "),i("p",[i("img",{attrs:{src:"https://gitee.com/Wzhichao/img/raw/master/uPic/3Cz30U13%20.png",alt:"img"}})]),t._v(" "),i("p",[t._v("最后点击保存即可")]),t._v(" "),i("h2",{attrs:{id:"测试"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#测试"}},[t._v("#")]),t._v(" 测试")]),t._v(" "),i("p",[t._v("上传代码\n查看jenkins\n"),i("img",{attrs:{src:"https://gitee.com/Wzhichao/img/raw/master/uPic/MrUocw40%20.png",alt:""}}),t._v("\n这样就成功了，每次提交代码到master就会进行自动构建测试代码有没有问题")]),t._v(" "),i("p",[t._v("下一篇我们介绍如何添加钉钉机器人提示提交信息")])])}),[],!1,null,null,null);e.default=r.exports}}]);