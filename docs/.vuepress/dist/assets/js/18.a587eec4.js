(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{384:function(e,t,n){"use strict";n.r(t);var o=n(45),r=Object(o.a)({},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h2",{attrs:{id:"代理设置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#代理设置"}},[e._v("#")]),e._v(" 代理设置")]),e._v(" "),n("p",[e._v("项目中基础功能接口使用"),n("code",[e._v("api")]),e._v("作为"),n("code",[e._v("BASE_API")]),e._v("请求")]),e._v(" "),n("p",[n("code",[e._v("nginx.conf")]),e._v("配置，"),n("code",[e._v("alias")]),e._v("根据具体服务器文件位置进行配置")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("server {\n    listen       8066;\n    server_name  commonFronted;\n\n    location /commonFronted {\n        alias     /store0/commonFronted;\n        index     index.html;\n    }\n    # 代理的path需要和后端的server path一致或者为父级path，不然会导致set cookie因为作用域问题设置失败\n    location ^~/common-backend/ {\n        proxy_pass http://47.105.123.78:8089/common-backend/;\n        proxy_set_header  Host $host;\n        proxy_set_header  X-Real-IP $remote_addr;\n        proxy_set_header  X-Forwarded-Proto https;\n        proxy_set_header  X-NginX-Proxy true;\n        proxy_buffers 256 4k;\n        proxy_max_temp_file_size 0k;\n        proxy_connect_timeout 30;\n        proxy_send_timeout 60;\n        proxy_read_timeout 60;\n        proxy_next_upstream error timeout invalid_header http_502;            \n    }\n}\n")])])])])}),[],!1,null,null,null);t.default=r.exports}}]);